---
import { site } from "../content/site";

// Normalizamos el teléfono para wa.me (solo números)
const phone = site.phone.replace(/[^\d]/g, "");

// Mensaje inicial (editable)
const message =
  "Hola, quisiera coordinar una consulta legal. Gracias.";

const whatsappUrl = `https://wa.me/${phone}?text=${encodeURIComponent(message)}`;
---

<a
  href={whatsappUrl}
  target="_blank"
  rel="noopener noreferrer"
  aria-label="Contactar por WhatsApp"
  class="
    fixed bottom-5 right-5 z-[60]
    inline-flex items-center gap-3
    rounded-full
    bg-emerald-600
    px-5 py-3
    text-sm font-semibold text-white
    shadow-lg shadow-emerald-600/30
    transition-all
    hover:bg-emerald-500 hover:shadow-xl hover:shadow-emerald-600/40
    focus:outline-none focus:ring-2 focus:ring-emerald-600/40
  "
>
  <!-- Icono WhatsApp (SVG inline, no librerías) -->
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 32 32"
    class="h-5 w-5 fill-current"
    aria-hidden="true"
  >
    <path
      d="M16 .533C7.468.533.533 7.467.533 16c0 2.815.735 5.56 2.135 7.98L.4 31.467l7.676-2.03A15.41 15.41 0 0016 31.467C24.532 31.467 31.467 24.532 31.467 16 31.467 7.467 24.532.533 16 .533zm0 28.16c-2.61 0-5.17-.7-7.404-2.02l-.53-.315-4.555 1.205 1.215-4.44-.345-.56A12.93 12.93 0 013.067 16C3.067 9.01 9.01 3.067 16 3.067c6.99 0 12.933 5.943 12.933 12.933 0 6.99-5.943 12.933-12.933 12.933zm7.06-9.7c-.385-.193-2.28-1.126-2.633-1.255-.353-.13-.61-.193-.867.193-.257.385-.996 1.255-1.223 1.512-.225.257-.45.29-.835.096-.385-.193-1.625-.6-3.093-1.913-1.143-.102-1.91-1.28-2.136-1.666-.225-.385-.024-.593.17-.786.173-.173.385-.45.578-.675.193-.225.257-.385.385-.642.13-.257.065-.482-.032-.675-.096-.193-.867-2.09-1.188-2.863-.31-.743-.626-.642-.867-.655l-.738-.013c-.257 0-.675.096-1.03.482-.353.385-1.353 1.322-1.353 3.226 0 1.905 1.386 3.745 1.578 4.002.193.257 2.728 4.163 6.61 5.837.923.398 1.645.636 2.206.814.926.294 1.77.253 2.437.153.743-.11 2.28-.93 2.6-1.83.32-.9.32-1.67.225-1.83-.096-.16-.353-.257-.738-.45z"
    />
  </svg>

  <span class="hidden sm:inline">WhatsApp</span>
</a>
